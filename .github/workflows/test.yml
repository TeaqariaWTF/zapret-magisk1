name: Test Telegram Notification

on:
  workflow_dispatch:  # –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ workflow

jobs:
  send-telegram-notification:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Send message to Telegram
        run: |
          curl -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "chat_id": "'"${TELEGRAM_CHAT_ID_MAIN}"'",
              "text": "üîî <b>Test Notification</b>\n\nBuild status: Success ‚úÖ\nRepository: ${{ github.repository }}\nWorkflow: ${{ github.workflow }}",
              "parse_mode": "HTML",
              "disable_web_page_preview": true
            }' \
            "https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage"
        env:
          TELEGRAM_BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          TELEGRAM_CHAT_ID_MAIN: ${{ secrets.TELEGRAM_CHAT_ID_MAIN }}
